{% extends 'base.html.twig' %}

{% block title %}Управление фестивалями{% endblock %}

{% block body %}

    <div class="container" {{ stimulus_controller('festival_admin', {
        'createUrl': path('app_admin_festival_create'),
    }) }}>
        <h1 class="text-center">Управление фестивалями</h1>
        <div class="d-flex justify-content-end mb-3">
            <button class="btn btn-primary" {{ stimulus_action('festival_admin', 'create') }}>Создать</button>
        </div>
        <table class="table">
            <thead>
            <tr>
                <th>Название</th>
                <th>Период</th>
                <th>Активен</th>
                <th>Действия</th>
            </tr>
            </thead>
            <tbody>
            {# @var festival \App\Entity\Festival #}
            {% for festival in festivals %}
                <tr>
                    <td>{{ festival.name }}</td>
                    <td>{{ festival.startsAt|date('d.m.y') }} - {{ festival.endsAt|date('d.m.y') }}</td>
                    <td>{{ festival.active ? 'app.yes'|trans : 'app.no'|trans }}</td>
                    <td {{ stimulus_controller('festival-actions', {
                        updateUrl: path('app_admin_festival_update', { id: festival.id }),
                        removeUrl: path('app_admin_festival_remove', { id: festival.id })
                    }) }}>
                        <button class="btn btn-sm btn-primary" {{ stimulus_action('festival-actions', 'update') }}>{{ 'app.edit'|trans }}</button>
                        <button class="btn btn-sm btn-danger" {{ stimulus_action('festival-actions', 'remove') }}>{{ 'app.remove'|trans }}</button>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        {{ pagerfanta(festivals, 'twitter_bootstrap5', {'omitFirstPage': true}) }}
    </div>

{% endblock %}